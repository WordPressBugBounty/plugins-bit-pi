import{aa as s,ab as m}from"./_applist-chatty-months-shout-814.js";import{_ as e}from"./main-chatty-months-shout.js";import{h as o,s as i}from"./machine.-chatty-months-shout-207.js";import{f as E}from"./machineh-chatty-months-shout-129.js";import{h as l,c as d}from"./openrout-chatty-months-shout-195.js";import"./lodash-chatty-months-shout-731.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,n){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,n),n)}};const N=s(({helpers:t})=>({states:{components:[d(t),{componentName:t.componentName.select,helperText:e("Select the AI model to use for generating the completion."),id:"model-id",label:e("Model"),onChange:"HANDLE_MODEL_CHANGE",onRefetch:"REFETCH_MODELS",optionFilterProp:"label",options:[],path:"model",placeholder:e("Select a Model"),render:"IF_CONNECTION_SELECTED",required:!0,showSearch:!0,value:void 0},{componentName:t.componentName.mixInput,helperText:e("Maximum number of tokens to generate in the response. Leave empty for model default."),id:"max-tokens",label:e("Max Completion Tokens"),onChange:"SET_MAX_TOKENS",path:"max_tokens",render:"IF_MODEL_SELECTED",required:!1,value:[]},{componentName:t.componentName.switch,fieldType:"config",helperText:e("Enable memory to store and retrieve conversation history using a unique key."),id:"memory-key-switch",label:e("Enable Memory"),onChange:"SET_MEMORY_SWITCH",render:"IF_MODEL_SELECTED",size:"small",value:!1},{componentName:t.componentName.mixInput,fieldType:"config",helperText:e("Enter a unique identifier (e.g., 'user123'). This Memory Key links responses to your specified database entry"),id:"memory-key",label:e("Memory Key"),onChange:"SET_MEMORY_KEY",render:"IF_MEMORY_KEY_SWITCH",required:!0,value:[]},{componentName:t.componentName.mixInput,fieldType:"config",helperText:e("How many recent messages should be remembered? (e.g., 10)"),id:"context-length",label:e("Context Length"),onChange:"SET_CONTEXT_LENGTH",render:"IF_MEMORY_KEY_SWITCH",required:!0,value:[]},{addItemButtonLabel:e("Add Message"),componentName:t.componentName.repeaterField,direction:"vertical",fieldsMetaData:[{componentName:t.componentName.select,id:"role",label:e("Role"),name:"role",options:[{label:e("System"),value:"system"},{label:e("User"),value:"user"},{label:e("Assistant"),value:"assistant"}],required:!0,value:"user"},{componentName:t.componentName.mixInput,id:"content",label:e("Content"),name:"content",required:!0,value:[]}],id:"messages-list",inputGroupProps:{label:e("Role #{COUNT}")},label:e("Messages"),onChange:"SET_MESSAGES",path:"messages",render:"IF_MODEL_SELECTED",value:void 0},{componentName:t.componentName.switch,id:"show-advance-feature",label:e("Show Advance Feature"),onChange:"SET_FEATURE",path:"advance-feature",render:"IF_MODEL_SELECTED",size:"small",value:!1},{componentName:t.componentName.mixInput,helperText:e("Controls randomness: 0 is focused and deterministic, 1 is more creative. Range: 0-2"),id:"temperature",label:e("Temperature"),onChange:"SET_TEMPERATURE",path:"temperature",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:[]},{componentName:t.componentName.mixInput,helperText:e("Nucleus sampling: consider only tokens with top_p probability mass. Range: 0-1"),id:"top-p",label:e("Top P"),onChange:"SET_TOP_P",path:"top_p",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:[]},{componentName:t.componentName.mixInput,helperText:e("Penalty for repeated tokens. Positive values discourage repetition. Range: -2 to 2"),id:"frequency-penalty",label:e("Frequency Penalty"),onChange:"SET_FREQUENCY_PENALTY",path:"frequency_penalty",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:[]},{componentName:t.componentName.mixInput,helperText:e("Penalty for new topics. Positive values encourage new topics. Range: -2 to 2"),id:"presence-penalty",label:e("Presence Penalty"),onChange:"SET_PRESENCE_PENALTY",path:"presence_penalty",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:[]},{allowClear:!0,componentName:t.componentName.select,helperText:e("Choose the response format. JSON mode forces the model to return valid JSON."),id:"response-format",label:e("Response Format"),onChange:"HANDLE_RESPONSE_FORMAT",options:[{label:e("Text"),value:"text"},{label:e("JSON Object"),value:"json_object"}],path:"response_format.type",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:"text"},{componentName:t.componentName.mixInput,helperText:e("Random seed for deterministic sampling. Use the same seed to get consistent results."),id:"seed",label:e("Seed"),onChange:"SET_SEED",path:"seed",render:"IF_ADVANCE_FEATURE_SELECTED",required:!1,value:[]}]},actions:{CONNECTION_ADD_CHANGE:l,HANDLE_MODEL_CHANGE:o("modelId"),HANDLE_RESPONSE_FORMAT:o("responseFormat"),IF_CONNECTION_SELECTED:({$:n})=>{var a;return m((a=n.getComponent("connection-id"))==null?void 0:a.value)},IF_MODEL_SELECTED:({$:n})=>{var a;return m((a=n.getComponent("model-id"))==null?void 0:a.value)},REFETCH_MODELS:({$:n})=>E(n),SET_CONTEXT_LENGTH:o("contextLength"),SET_FEATURE:o("showAdvanceFeature"),SET_FREQUENCY_PENALTY:o("frequencyPenalty"),SET_MAX_TOKENS:o("maxTokens"),SET_MEMORY_KEY:o("memoryKey"),SET_MEMORY_SWITCH:o("memorySwitch"),SET_MESSAGES:o("messages"),SET_PRESENCE_PENALTY:o("presencePenalty"),SET_SEED:o("seed"),SET_TEMPERATURE:o("temperature"),SET_TOP_P:o("topP"),IF_MEMORY_KEY_SWITCH:({$:n})=>{var a,r;return m((a=n.getComponent("connection-id"))==null?void 0:a.value)&&((r=n.getComponent("memory-key-switch"))==null?void 0:r.value)===!0},IF_ADVANCE_FEATURE_SELECTED:({$:n})=>{var a,r;return m((a=n.getComponent("connection-id"))==null?void 0:a.value)&&((r=n.getComponent("show-advance-feature"))==null?void 0:r.value)===!0},SET_CONNECTION:({$:n,e:a})=>{o("connectionId")({$:n,e:a}),E(n)},ON_MACHINE_LOAD:({$:n})=>{i(n,[{db:"connectionId",id:"connection-id"},{db:"modelId",id:"model-id"},{db:"maxTokens",id:"max-tokens"},{db:"memorySwitch",id:"memory-key-switch"},{db:"memoryKey",id:"memory-key"},{db:"contextLength",id:"context-length"},{db:"messages",id:"messages-list"},{db:"temperature",id:"temperature"},{db:"topP",id:"top-p"},{db:"frequencyPenalty",id:"frequency-penalty"},{db:"presencePenalty",id:"presence-penalty"},{db:"responseFormat",id:"response-format"},{db:"seed",id:"seed"},{db:"showAdvanceFeature",id:"show-advance-feature"}]),E(n)}}}));export{N as default};
