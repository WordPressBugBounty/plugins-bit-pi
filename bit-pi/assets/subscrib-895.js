import{a4 as i,a5 as s}from"./_applist-850.js";import{_ as o}from"./main-great-olives-cough.js";import{s as c}from"./machine.-113.js";import{h as m,c as r}from"./suitedas-709.js";import"./lodash-475.js";import"./mutative-319.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const b=i(({helpers:n})=>({states:{components:[r(n),{componentName:n.componentName.note,fieldType:"config",id:"note",label:o("Note"),note:["To get an audience ID in Suitedash, navigate to Marketing > Audiences. Then select your desired Audience ID."],render:"IF_CONNECTION_SELECTED"},{addItemButtonLabel:"Add Item",componentName:n.componentName.repeaterField,direction:"vertical",fieldsMetaData:[{componentName:n.componentName.mixInput,label:o("Email"),name:"email",required:!0,value:void 0},{componentName:n.componentName.mixInput,label:o("First Name"),name:"first_name",required:!0,value:void 0},{componentName:n.componentName.mixInput,label:o("Last Name"),name:"last_name",required:!0,value:void 0},{componentName:n.componentName.mixInput,label:o("Audiences ID"),name:"audiences",required:!0,value:void 0}],id:"subscribes-list",inputGroupProps:{label:o("Subscriber #{COUNT}")},label:o("Subscribe"),loading:!1,onChange:"ON_FIELD_MAP_CHANGE",render:"IF_CONNECTION_SELECTED",value:[]}]},actions:{SET_CONNECTION:async({$:e,e:t})=>{e.setThisComponent(a=>{a.value=t}),e.setDb(a=>{a.connectionId=t})},IF_CONNECTION_SELECTED:({$:e})=>{var t;return s((t=e.getComponent("connection-id"))==null?void 0:t.value)},ON_FIELD_MAP_CHANGE:async({$:e,e:t})=>{e.setThisComponent(a=>{a.value=t}),e.setDb(a=>{a.subscribes=t})},CONNECTION_ADD_CHANGE:m,ON_MACHINE_LOAD:async({$:e})=>{c(e,[{db:"connectionId",id:"connection-id"},{db:"subscribes",id:"subscribes-list"}])}}}));export{b as default};
