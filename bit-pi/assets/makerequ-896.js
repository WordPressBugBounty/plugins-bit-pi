import{a4 as l}from"./_applist-869.js";import{_ as a}from"./main-salty-geckos-sort.js";import{i as d,m as p,j as c}from"./import-685.js";import{s}from"./machine.-202.js";import"./lodash-621.js";import"./mutative-523.js";import"./index-489.js";import"./usebreak-169.js";import"./index-997.js";import"./useclosa-449.js";import"./index-704.js";import"./index-379.js";import"./usedebou-5.js";import"./utilscss-945.js";import"./index-882.js";import"./index-498.js";import"./index-40.js";import"./index-888.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const B=l(({helpers:n})=>({states:{components:[{allowClear:!0,componentName:n.componentName.connection,connectionsTypes:d,customConnection:!0,fieldType:"config",id:"connection-id",label:a("Connection (optional)"),onConnectionChange:"HANDLE_CONNECTION",render:!0,value:void 0},{componentName:n.componentName.mixInput,fieldType:"config",id:"url",label:a("Request URL"),onChange:"HANDLE_URL",render:!0,required:!0,value:void 0},{componentName:n.componentName.select,fieldType:"config",id:"method",label:a("Method"),onChange:"HANDLE_METHOD",options:p,render:!0,required:!0,value:"GET"},{componentName:n.componentName.select,fieldType:"config",id:"content-type",label:a("Content Type"),onChange:"HANDLE_CONTENT_TYPE",options:c,render:"IF_METHOD_IS_NOT_GET",required:!0,value:"application/json"},{addItemButtonLabel:"Add",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.mixInput,name:"key",placeholder:a("Key"),required:!0,value:[],wrapperClassName:"w-full"},{componentName:n.componentName.mixInput,name:"value",placeholder:a("Value"),required:!0,value:void 0,wrapperClassName:"w-full"}],id:"headers",label:a("Headers"),loading:!1,onChange:"HANDLE_HEADERS",render:!0,value:[]},{addItemButtonLabel:"Add",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.mixInput,name:"key",placeholder:a("Key"),required:!0,value:[],wrapperClassName:"w-full"},{componentName:n.componentName.mixInput,name:"value",placeholder:a("Value"),required:!0,value:void 0,wrapperClassName:"w-full"}],id:"query-params",label:a("Query Params"),loading:!1,onChange:"HANDLE_QUERY_PARAMS",render:!0,value:[]},{addItemButtonLabel:"Add",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.mixInput,name:"key",placeholder:a("Key"),required:!0,value:[],wrapperClassName:"w-full"},{componentName:n.componentName.mixInput,name:"value",placeholder:a("Value"),required:!0,value:void 0,wrapperClassName:"w-full"}],id:"body",label:a("Body"),loading:!1,onChange:"HANDLE_BODY",render:"GET_METHOD_AND_RAW_BODY_ENABLE_CHECK",value:[]},{componentName:n.componentName.switch,fieldType:"config",id:"is-enable-raw-body",label:a("Raw Body"),onChange:"HANDLE_RAW_BODY",render:"IF_CONTENT_TYPE_IS_RAW",value:!1},{componentName:n.componentName.mixInput,fieldType:"config",id:"raw-body-content",label:a(""),onChange:"HANDLE_RAW_BODY_CONTENT",render:"IF_ENABLE_RAW_BODY",required:!1,value:void 0}]},actions:{ON_MACHINE_LOAD:async({$:e})=>{s(e,[{db:"body",id:"body"},{db:"connectionId",id:"connection-id"},{db:"contentType",id:"content-type"},{db:"isEnableRawBody",id:"is-enable-raw-body"},{db:"rawBodyContent",id:"raw-body-content"},{db:"headers",id:"headers"},{db:"method",id:"method"},{db:"queryParams",id:"query-params"},{db:"url",id:"url"}])},HANDLE_RAW_BODY:({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.isEnableRawBody=t})},IF_CONTENT_TYPE_IS_RAW:({$:e})=>{var m,r;const t=["application/json","text/plain","text/html","application/xml"],o=(m=e.getComponent("content-type"))==null?void 0:m.value,i=(r=e.getComponent("method"))==null?void 0:r.value;return t.includes(o)&&i!=="GET"},IF_ENABLE_RAW_BODY:({$:e})=>{var i,m;const t=(i=e.getComponent("is-enable-raw-body"))==null?void 0:i.value,o=(m=e.getComponent("method"))==null?void 0:m.value;return t&&o!=="GET"},IF_METHOD_IS_NOT_GET:({$:e})=>{var t;return((t=e.getComponent("method"))==null?void 0:t.value)!=="GET"},GET_METHOD_AND_RAW_BODY_ENABLE_CHECK:({$:e})=>{var i,m;const t=(i=e.getComponent("method"))==null?void 0:i.value,o=(m=e.getComponent("is-enable-raw-body"))==null?void 0:m.value;return t!=="GET"&&!o},HANDLE_RAW_BODY_CONTENT:({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.rawBodyContent=t})},HANDLE_BODY:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.body=t})},HANDLE_CONNECTION:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.connectionId=t})},HANDLE_CONTENT_TYPE:async({$:e,e:t})=>{e.setThisComponent(i=>{i.value=t}),e.setDb(i=>{i.contentType=t}),["multipart/form-data","application/x-www-form-urlencoded"].includes(t)&&e.setComponent("is-enable-raw-body",i=>{i.value=!1})},HANDLE_HEADERS:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.headers=t})},HANDLE_METHOD:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.method=t})},HANDLE_QUERY_PARAMS:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.queryParams=t})},HANDLE_URL:async({$:e,e:t})=>{e.setThisComponent(o=>{o.value=t}),e.setDb(o=>{o.url=t})}}}));globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};export{B as default};
