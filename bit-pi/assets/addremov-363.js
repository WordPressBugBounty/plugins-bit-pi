import{a4 as m,a5 as c}from"./_applist-471.js";import{_ as a}from"./main-rotten-forks-end.js";import{s as l}from"./machine.-560.js";import{h as i,f as o,a as E,c as s}from"./mailchim-942.js";import"./lodash-670.js";import"./mutative-854.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const p=m(({helpers:n})=>({states:{components:[s(n),{allowClear:!0,componentName:n.componentName.select,helperText:a("Choose the list from which you want to remove the member tag."),id:"select-audience",label:a("Select Audience List"),onChange:"HANDLE_SELECT_AUDIENCE",onRefetch:"REFETCH_AUDIENCE_LIST",options:[],path:"select-audience",render:"IF_CONNECTION_SELECTED",required:!0,value:void 0},{componentName:n.componentName.mixInput,helperText:a("Enter the member's email from which you want to Add or Remove the tag."),id:"member-email",label:a("Member Email"),onChange:"SET_MEMBER_EMAIL",path:"member-email",render:"IF_CONNECTION_SELECTED",required:!0,value:[]},{addItemButtonLabel:"Add Tag",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.mixInput,label:a("Tag Name"),name:"name",value:[],wrapperClassName:"w-100"},{componentName:n.componentName.select,label:a("Action"),name:"status",options:[{label:a("ADD"),value:"active"},{label:a("DELETE"),value:"inactive"}],style:{width:150},value:""}],id:"tag-field-map",inputGroupProps:{label:a("Tag #{COUNT}")},label:a("Tag Field Map"),onChange:"ON_TAG_FIELD_MAP",render:"IF_CONNECTION_SELECTED",value:[]},{componentName:n.componentName.switch,helperText:a("When Is Syncing is Enabled, automation based on the tags in the request will not fire."),id:"is-syncing",label:a("Is Syncing?"),onChange:"SET_SYNCING",path:"is_syncing",render:"IF_CONNECTION_SELECTED",size:"small",value:!1}]},actions:{SET_CONNECTION:async({$:e,e:t})=>{i("connectionId")({$:e,e:t}),await o(e)},CONNECTION_ADD_CHANGE:E,HANDLE_SELECT_AUDIENCE:i("audienceList"),IF_CONNECTION_SELECTED:({$:e})=>{var t;return c((t=e.getComponent("connection-id"))==null?void 0:t.value)},ON_TAG_FIELD_MAP:i("tagFieldMap"),REFETCH_AUDIENCE_LIST:async({$:e})=>await o(e),SET_MEMBER_EMAIL:i("memberEmail"),SET_SYNCING:i("isSyncing"),ON_MACHINE_LOAD:async({$:e})=>{var t;l(e,[{db:"connectionId",id:"connection-id"},{db:"audienceList",id:"select-audience"},{db:"memberEmail",id:"member-email"},{db:"isSyncing",id:"is-syncing"},{db:"tagFieldMap",id:"tag-field-map"}]),(t=e.db)!=null&&t.connectionId&&await o(e)}}}));export{p as default};
