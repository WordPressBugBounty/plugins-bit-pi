import{aa as i,ab as s}from"./_applist-chatty-months-shout-814.js";import{_ as e}from"./main-chatty-months-shout.js";import{h as a,s as l}from"./machine.-chatty-months-shout-207.js";import{h as E,c as d}from"./commonut-chatty-months-shout-164.js";import{f as m}from"./machineh-chatty-months-shout-534.js";import"./lodash-chatty-months-shout-731.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,t){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,t),t)}};const C=i(({helpers:o})=>({states:{components:[d(o),{componentName:o.componentName.select,helperText:e("Choose the Groq model to use here. E.g. llama-3.3-70b-versatile."),id:"model-id",label:e("Model"),onChange:"HANDLE_MODEL_CHANGE",onRefetch:"REFETCH_MODELS",optionFilterProp:"label",options:[],path:"model",render:"IF_CONNECTION_SELECTED",required:!0,showSearch:!0,value:void 0},{componentName:o.componentName.mixInput,helperText:e("The maximum number of tokens that can be generated in the chat completion. If empty, the limit of the model will be used."),id:"max-tokens",label:e("Max Tokens Returned"),onChange:"SET_MAX_TOKENS",path:"max_tokens",render:"IF_MODEL_SELECTED",value:[]},{componentName:o.componentName.switch,fieldType:"config",helperText:e("Toggle the switch to reveal the Memory Key input field. This crucial setting allows the system to store Groq's output responses directly into your database, "),id:"memory-key-switch",label:e("Get Unique Response"),onChange:"SET_MEMORY_SWITCH",render:"IF_MODEL_SELECTED",size:"small",value:!1},{componentName:o.componentName.mixInput,fieldType:"config",helperText:e("Enter a unique identifier here (e.g., 'John Doe'). This Memory Key links Groq's responses to your specified database entry"),id:"memory-key",label:e("Memory Key"),onChange:"SET_MEMORY_KEY",render:"IF_MEMORY_KEY_SWITCH",required:!0,value:[]},{componentName:o.componentName.mixInput,fieldType:"config",helperText:e("How many recent responses should I remember? (e.g., 5)"),id:"context-length",label:e("Context Length"),onChange:"SET_CONTEXT_LENGTH",render:"IF_MEMORY_KEY_SWITCH",required:!0,value:[]},{addItemButtonLabel:e("Add Message"),componentName:o.componentName.repeaterField,direction:"vertical",fieldsMetaData:[{componentName:o.componentName.select,id:"role",label:e("Role"),name:"role",options:[{label:e("System"),value:"system"},{label:e("User"),value:"user"},{label:e("Assistant"),value:"assistant"}],required:!0,value:"user"},{componentName:o.componentName.mixInput,id:"content",label:e("Content"),name:"content",required:!0,value:[],wrapperClassName:"w-100"}],id:"messages-list",inputGroupProps:{label:e("Message #{COUNT}")},label:e("Messages"),onChange:"SET_MESSAGES",path:"messages",render:"IF_MODEL_SELECTED",value:void 0},{componentName:o.componentName.switch,fieldType:"config",id:"show-advance-feature",label:e("Show Advanced Settings"),onChange:"SET_FEATURE",path:"advance-feature",render:"IF_MODEL_SELECTED",size:"small",value:!1},{componentName:o.componentName.mixInput,helperText:e("Controls randomness in the response. Higher values (e.g., 0.8) make output more random and creative. Lower values (e.g., 0.2) make it more focused and deterministic. Range: 0-2, Default: 1."),id:"temperature",label:e("Temperature"),onChange:"SET_TEMPERATURE",path:"temperature",render:"IF_ADVANCE_FEATURE_SELECTED",value:[]},{componentName:o.componentName.select,helperText:e("Specifies the format of the response. Messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'."),id:"response-format",label:e("Response Format"),onChange:"HANDLE_RESPONSE_FORMAT",options:[{label:e("Text"),value:"text"},{label:e("JSON Object"),value:"json_object"}],path:"response_format.type",render:"IF_ADVANCE_FEATURE_SELECTED",value:"text"},{componentName:o.componentName.mixInput,helperText:e("An alternative to temperature for controlling randomness. Top-p sampling considers only the top tokens whose cumulative probability mass is p. For example, 0.1 means only tokens in the top 10% probability are considered. Range: 0-1, Default: 1."),id:"top-p",label:e("Top P"),onChange:"SET_TOP_P",path:"top_p",render:"IF_ADVANCE_FEATURE_SELECTED",value:[]},{componentName:o.componentName.mixInput,helperText:e("Positive values penalize tokens based on their frequency in the text so far, decreasing the likelihood of repeated phrases. Range: -2.0 to 2.0, Default: 0."),id:"frequency-penalty",label:e("Frequency Penalty"),onChange:"SET_FREQUENCY_PENALTY",path:"frequency_penalty",render:"IF_ADVANCE_FEATURE_SELECTED",value:[]},{componentName:o.componentName.mixInput,helperText:e("If specified, the system will attempt to sample deterministically such that repeated requests with the same seed and parameters return the same result. Useful for reproducibility."),id:"seed",label:e("Seed"),onChange:"SET_SEED",path:"seed",render:"IF_ADVANCE_FEATURE_SELECTED",value:[]}]},actions:{CONNECTION_ADD_CHANGE:E,HANDLE_MODEL_CHANGE:a("modelId"),HANDLE_RESPONSE_FORMAT:a("responseFormat"),IF_CONNECTION_SELECTED:({$:t})=>{var n;return s((n=t.getComponent("connection-id"))==null?void 0:n.value)},IF_MODEL_SELECTED:({$:t})=>{var n;return s((n=t.getComponent("model-id"))==null?void 0:n.value)},REFETCH_MODELS:({$:t})=>m(t),SET_CONTEXT_LENGTH:a("contextLength"),SET_FEATURE:a("showAdvanceFeature"),SET_FREQUENCY_PENALTY:a("frequencyPenalty"),SET_MAX_TOKENS:a("maxTokens"),SET_MEMORY_KEY:a("memoryKey"),SET_MEMORY_SWITCH:a("memorySwitch"),SET_MESSAGES:a("messages"),SET_SEED:a("seed"),SET_TEMPERATURE:a("temperature"),SET_TOP_P:a("topP"),IF_MEMORY_KEY_SWITCH:({$:t})=>{var n,r;return s((n=t.getComponent("connection-id"))==null?void 0:n.value)&&((r=t.getComponent("memory-key-switch"))==null?void 0:r.value)===!0},IF_ADVANCE_FEATURE_SELECTED:({$:t})=>{var n,r;return s((n=t.getComponent("connection-id"))==null?void 0:n.value)&&((r=t.getComponent("show-advance-feature"))==null?void 0:r.value)===!0},SET_CONNECTION:({$:t,e:n})=>{a("connectionId")({$:t,e:n}),m(t)},ON_MACHINE_LOAD:({$:t})=>{l(t,[{db:"connectionId",id:"connection-id"},{db:"modelId",id:"model-id"},{db:"maxTokens",id:"max-tokens"},{db:"memorySwitch",id:"memory-key-switch"},{db:"memoryKey",id:"memory-key"},{db:"contextLength",id:"context-length"},{db:"messages",id:"messages-list"},{db:"temperature",id:"temperature"},{db:"topP",id:"top-p"},{db:"frequencyPenalty",id:"frequency-penalty"},{db:"responseFormat",id:"response-format"},{db:"seed",id:"seed"},{db:"showAdvanceFeature",id:"show-advance-feature"}]),m(t)}}}));export{C as default};
