import{aa as d,ab as i}from"./_applist-chatty-months-shout-814.js";import{_ as a}from"./main-chatty-months-shout.js";import{s as m}from"./machine.-chatty-months-shout-207.js";import{h as T,f as E,c as p,d as l,a as h,b as c,s}from"./machineh-chatty-months-shout-77.js";import"./lodash-chatty-months-shout-731.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const N=d(({helpers:n})=>({states:{components:[p(n),{componentName:n.componentName.select,fieldType:"config",id:"spreadsheet-id",label:a("Spreadsheet"),onChange:"SELECT_SPREADSHEET",onRefetch:"REFETCH_SPREADSHEETS",optionFilterProp:"label",options:[],placeholder:a("Select a spreadsheet"),render:"IF_CONNECTION_SELECTED",showSearch:!0,value:void 0},{componentName:n.componentName.select,fieldType:"config",id:"sheet-title",label:a("Sheet"),onChange:"SELECT_SHEET",onRefetch:"REFETCH_SHEETS",optionFilterProp:"label",options:[],placeholder:a("Select a sheet"),render:"IF_SPREADSHEET_SELECTED",showSearch:!0,value:void 0},{componentName:n.componentName.select,fieldType:"config",id:"contains-header-row",label:a("Worksheet contains header row"),onChange:"SET_CONTAINS_HEADER_ROW",options:[{label:a("Yes"),value:"yes"},{label:a("No"),value:"no"}],render:"IF_SHEET_SELECTED",value:void 0},{componentName:n.componentName.select,fieldType:"config",helperText:a("Select a column to match with mapped data, if selected column matches with the value in the mapped data, then the row will be updated otherwise a new row will be appended."),id:"column-to-match-on",label:a("Column to match on"),onChange:"SELECT_COLUMN_TO_MATCH",onRefetch:"REFETCH_HEADER_ROW",optionFilterProp:"label",options:[],placeholder:a("Select a column to match on"),render:"IF_COLUMN_TO_MATCH_SELECTED",showSearch:!0,value:void 0},{addItemButtonLabel:"Add Column",componentName:n.componentName.repeaterField,fieldsMetaData:[{componentName:n.componentName.select,label:a("Column"),name:"column",options:[],required:!0,style:{width:100},value:""},{componentName:n.componentName.mixInput,label:a("Value"),name:"value",required:!0,value:void 0,wrapperClassName:"w-100"}],id:"row-data",label:a("Field Mapping"),onChange:"ON_CHANGE_ROW_DATA",path:"rowData",render:"IF_COLUMN_TO_MATCH_SELECTED",value:[]},{componentName:n.componentName.switch,id:"show-advanced-settings",label:a("Show Advanced Settings"),onChange:"HANDLE_SHOW_ADVANCED_SETTINGS",render:"IF_SHEET_SELECTED"},{componentName:n.componentName.select,fieldType:"config",helperText:a("Choose how new data is added relative to existing sheet content. 'Overwrite' updates empty columns without affecting existing data; 'Insert Rows' always adds new rows."),id:"insert-data-option",label:a("Insert Data Option"),onChange:"SELECT_INSERT_DATA_OPTION",options:[{label:a("Insert Rows"),value:"INSERT_ROWS"},{label:a("Overwrite"),value:"OVERWRITE"}],render:"IF_ADVANCED_SETTINGS_ENABLED",value:"INSERT_ROWS"},{componentName:n.componentName.select,fieldType:"config",helperText:a("Specifies how input data is interpreted: store as-is (RAW) or parse like user input in Sheets (USER_ENTERED)."),id:"value-input-option",label:a("Value Input Option"),onChange:"SELECT_VALUE_INPUT_OPTION",options:[{label:a("User Entered"),value:"USER_ENTERED"},{label:a("Raw"),value:"RAW"}],render:"IF_ADVANCED_SETTINGS_ENABLED",value:"USER_ENTERED"}]},actions:{ON_MACHINE_LOAD:async({$:e})=>{m(e,[{db:"connectionId",id:"connection-id"},{db:"spreadsheetId",id:"spreadsheet-id"},{db:"sheetTitle",id:"sheet-title"},{db:"containsHeaderRow",id:"contains-header-row"},{db:"columnToMatch",id:"column-to-match-on"},{db:"rowData",id:"row-data"},{db:"insertDataOption",id:"insert-data-option"},{db:"valueInputOption",id:"value-input-option"}]),await Promise.all([E(e),c(e),l(e),s(e)])},IF_ADVANCED_SETTINGS_ENABLED:({$:e})=>{var o,t;return i((o=e.getComponent("sheet-title"))==null?void 0:o.value)&&((t=e.getComponent("show-advanced-settings"))==null?void 0:t.value)===!0},IF_COLUMN_TO_MATCH_SELECTED:({$:e})=>{var o;return i((o=e.getComponent("contains-header-row"))==null?void 0:o.value)},IF_CONNECTION_SELECTED:({$:e})=>{var o;return i((o=e.getComponent("connection-id"))==null?void 0:o.value)},IF_CONTAINS_HEADER_ROW_SELECTED:({$:e})=>{var o;return i((o=e.getComponent("column-to-match-on"))==null?void 0:o.value)},IF_SHEET_SELECTED:({$:e})=>{var o;return i((o=e.getComponent("sheet-title"))==null?void 0:o.value)},IF_SPREADSHEET_SELECTED:({$:e})=>{var o;return i((o=e.getComponent("spreadsheet-id"))==null?void 0:o.value)},REFETCH_HEADER_ROW:({$:e})=>Promise.all([l(e),s(e)]),REFETCH_SHEETS:({$:e})=>Promise.all([c(e),l(e)]),REFETCH_SPREADSHEETS:({$:e})=>E(e),CONNECTION_ADD_CHANGE:T,HANDLE_SHOW_ADVANCED_SETTINGS:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o})},ON_CHANGE_ROW_DATA:({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setDb(t=>{t.rowData=o})},SELECT_COLUMN_TO_MATCH:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setDb(t=>{t.columnToMatch=o}),await s(e)},SELECT_INSERT_DATA_OPTION:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setDb(t=>{t.insertDataOption=o})},SELECT_SHEET:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setComponent("column-to-match-on",t=>{t.value=void 0}),e.setComponent("contains-header-row",t=>{t.value=void 0}),e.setDb(t=>{t.sheetTitle=o,t.columnToMatch=void 0,t.containsHeaderRow=void 0}),await Promise.all([l(e),s(e)])},SELECT_SPREADSHEET:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setComponent("sheet-title",t=>{t.value=void 0}),e.setComponent("column-to-match-on",t=>{t.value=void 0}),e.setComponent("contains-header-row",t=>{t.value=void 0}),e.setDb(t=>{t.spreadsheetId=o,t.sheetTitle=void 0,t.columnToMatch=void 0,t.containsHeaderRow=void 0}),await c(e)},SELECT_VALUE_INPUT_OPTION:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setDb(t=>{t.valueInputOption=o})},SET_CONNECTION:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setComponent("column-to-match-on",t=>{t.value=void 0}),e.setDb(t=>{t.connectionId=o,t.columnToMatch=void 0}),await E(e),h(e,n)},SET_CONTAINS_HEADER_ROW:async({$:e,e:o})=>{e.setThisComponent(t=>{t.value=o}),e.setDb(t=>{t.containsHeaderRow=o}),await l(e)}}}));export{N as default};
