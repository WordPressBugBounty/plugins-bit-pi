import{y as $,r as c,a as n,j as i,S as B,F as I,B as v,_ as H,l as X}from"./main-salty-geckos-sort.js";import{T as z}from"./index-997.js";import{S as J}from"./index-888.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function K(e){const{AJAX_URL:t,NONCE:r,ROUTE_PREFIX:o}=$,s=new URL(t);return s.searchParams.append("action",`${o}${e}`),s.searchParams.append("_ajax_nonce",r),s.toString()}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Text:f}=z;function Q({className:e,helperText:t,invalidMessage:r,isLoadable:o=!1,label:s,loadBtnText:w=H("Load More..."),onLoadData:m,onPopupScroll:l,onRender:g,onSearch:d,options:x,required:A,showSearch:p,status:b,suffix:N,wrapperClassName:_,...O}){const y=c.useId(),[S,C]=c.useState(!1),j=c.useRef(1),[h,u]=c.useState(!1),T=c.useRef(!1);c.useEffect(()=>{g==null||g()},[]);const E=async a=>{m&&(C(!0),await m({count:j.current,event:a}),j.current+=1,C(!1))},L=a=>{d==null||d(a),o&&(T.current=a.length>0,h&&u(!1))},M=a=>{if(l==null||l(a),!o)return;const{clientHeight:U,scrollHeight:F,scrollTop:R}=a.target,k=F-R<=U+300;!h&&k&&!T.current?u(!0):h&&!k&&u(!1)};return n("div",{className:_,children:[s&&n("label",{className:"d-b mb-1 font-medium",htmlFor:y,children:[s,A&&i(f,{className:"leading-none",type:"danger",children:"*"})]}),n(B.Compact,{className:"w-100",children:[i(J,{className:`${e} w-100`,"data-testid":"selectComponent",id:y,...p&&{onSearch:L},showSearch:p,status:b,...O,dropdownRender:a=>n(I,{children:[a,o&&h&&i(v,{block:!0,className:X("bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-blue-600","dark:bg-slate-950 dark:bg-opacity-40 dark:text-slate-200 dark:hover:bg-slate-950 dark:hover:bg-opacity-100 dark:hover:text-blue-400"),loading:S,onClick:E,size:"small",type:"link",children:w})]}),onPopupScroll:M,options:x}),N]}),b==="error"&&r&&i(f,{type:"danger",children:r}),!r&&t&&i(f,{type:"secondary",children:t})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{Q as S,K as g};
